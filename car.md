## 购物车案例模块-基于jQuery

2023年5月25日23点57分

### 全选分析模块

1. 全选思路：里面3个li的复选按钮（`j-checkbox`）选中状态（`checked`）跟着全选按钮（`checkall`）走
2. `checked`是复选框的固有属性，可以使用 `prop()`方法获取和设置该属性
3. 把全选按钮状态赋值给3个小复选框即可。
4. 每当点击小复选框按钮，就判断：
5. 若小复选框被选中个数等于3（全部商品数）就应该把全选按钮选上，否则全选按钮不勾选
6. `:checked`选择器，查找被选中的表单元素。

### 增减商品模块

1. 核心思路：首先声明一个变量，当点击 `+`号（`increment`），就让这个值自增一（`++`），然后赋值给文本框。
2. **注意1**：只能增加本商品的数量，即当前 `+`号的兄弟节点文本框（`itxt`）的值。
3. 修改表单的值方法为val()
4. **注意2**：这个变量初始值应该是这个文本框的值，在这个值的基础上自增。要获取表单的值
5. 减号（`decrement`）思路同理，**但是若文本框的值是1，就不能再减了**

### 修改商品小计模块

1. 核心思路：每次点击 `+`号或 `-`号，根据文本框的值乘以当前商品的单价即商品小计
2. **注意1**：只能增加本商品的小计，即当前商品的小计模块（`p-sum`）
3. 修改普通元素的内容是 `text()`方法
4. **注意2**：当前商品的价格，要把 `￥`符号去掉再相乘，截取字符串 `substr(1)`从字符串的第二个字符（索引为1）开始提取子字符串
5. parents('选择器')可以返回指定父级元素
6. 最后计算的结果若想要保留两位小数，通过 `toFixed(2)`方法
7. 用户也可以直接修改表单里面的值，同样要计算小计。用表单 `change`事件
8. 用最新的表单内的值乘以单价即可，但是还是当前商品小计

### 计算总计和总额

1. 核心思路：把所有文本框里面的值相加就是总计数量。总额同理
2. 文本框里面的值不相同，若想要相加需要用到each遍历。声明一个变量，相加即可
3. 点击+-号，会改变总计和总额，若用户修改了文本框里面的值同样会改变总计和总额
4. 因此可以封装一个函数，以上2个操作调用此函数即可
5. **注意1**：总计是文本框里面的值相加用val()，总额是普通元素的内容用text()
6. 普通元素里面的内容要去掉 `￥`并且转换为数字型数据才能相加
